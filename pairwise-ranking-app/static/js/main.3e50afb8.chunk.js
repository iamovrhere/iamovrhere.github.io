(this["webpackJsonppairwise-ranking-app"]=this["webpackJsonppairwise-ranking-app"]||[]).push([[0],{243:function(e,t,n){},244:function(e,t,n){},257:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(15),c=n.n(i),o=(n(243),n(227)),l=n(16),s=n(308),d=(n(244),n(7)),u=n(12),j=n(63),b={},p="PROFILE/ADD",m="PROFILE/SET_CURRENT",h="PROFILE/RESTORE_STATE",O="PROFILE/PAIR/WINNER",f="PROFILE/PAIR/SKIP",g="PROFILE/LIST/RESET_ROWS",x=function(e,t,n,a){return{type:p,data:{newProfileId:e,name:t,nameMap:n,pairList:a}}},v=function(e,t){return{type:g,data:{nameMap:e,pairList:t}}},w=n(48);function k(e,t){switch(t.type){case h:return Object(d.a)(Object(d.a)({},e),t.data.profileState);default:return Object(d.a)(Object(d.a)({},function(e,t){var n=t.type,a=t.data;switch(n){case m:var r=a.id;if(!e.profiles[r])throw new Error("Invalid profile supplied: '".concat(r,"'"));return Object(d.a)(Object(d.a)({},e),{},{currentProfile:r});case p:return Object(d.a)(Object(d.a)({},e),{},{currentProfile:a.newProfileId,profiles:C(e.profiles,t,a.newProfileId)});case g:case f:case O:if(!e.profiles[e.currentProfile])throw new Error("No profile selected!");return Object(d.a)(Object(d.a)({},e),{},{profiles:C(e.profiles,t,e.currentProfile)});default:return e}}(e,t)),{},{updatedAtTime:(new Date).getTime()})}}function C(e,t,n){var a=t.type,r=t.data;switch(a){case p:var i={};return i[n]={name:r.name,list:r.nameMap,dateTime:(new Date).getTime(),pairs:r.pairList,totalComparisons:r.pairList.length},Object(d.a)(Object(d.a)({},e),i);case f:var c={};return c[n]=Object(d.a)(Object(d.a)({},e[n]),{},{dateTime:(new Date).getTime(),pairs:S(e[n].pairs,t,r.pairIndex)}),Object(d.a)(Object(d.a)({},e),c);case O:var o={};return o[n]=Object(d.a)(Object(d.a)({},e[n]),{},{dateTime:(new Date).getTime(),list:y(e[n].list,t,r.winnerListId),pairs:S(e[n].pairs,t,r.pairIndex)}),Object(d.a)(Object(d.a)({},e),o);case g:var l={};return l[n]=Object(d.a)(Object(d.a)({},e[n]),{},{dateTime:(new Date).getTime(),list:y(e[n].list,t),pairs:S(e[n].pairs,t)}),Object(d.a)(Object(d.a)({},e),l);default:return e}}function y(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=t.type,r=t.data;switch(a){case g:return Object(d.a)(Object(d.a)({},e),r.nameMap);case O:var i={};return i[n]=Object(d.a)({},e[n]),i[n].score++,Object(d.a)(Object(d.a)({},e),i);default:return e}}function S(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=t.type,r=t.data;switch(a){case g:var i=[].concat(Object(w.a)(r.pairList),Object(w.a)(e));return i.filter((function(e,t){return i.findIndex((function(t){return t.id===e.id||t.rid===e.id}))===t}));case O:var c=Object(w.a)(e);return c.splice(n,1),c;case f:var o=Object(w.a)(e);return o[n].skipped++,o;default:return e}}var R=n(2),I=function(e){return e.currentProfile?Object(d.a)(Object(d.a)({},e.profiles[e.currentProfile]),{},{id:e.currentProfile}):null},P=Object(j.a)(I,(function(e){return e?e.pairs:[]})),E=Object(j.a)(I,(function(e){return e?Object.values(e.list):[]})),L=Object(j.a)(E,(function(e){return e.reduce((function(e,t){return e<t.score?t.score:e}),0)})),N=Object(j.a)(I,(function(e){return e&&e.totalComparisons||1})),T=Object(j.a)(P,N,(function(e,t){return e?t-e.length:0})),F=function(e){return e.updatedAtTime},_={currentProfile:null,updatedAtTime:null,profiles:{}},A=r.a.createContext();function M(e){var t=r.a.useReducer(k,_),n=Object(u.a)(t,2),a=n[0],i=n[1],c=function(e,t){var n=function(){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(a){return console.error("Failed to retrieve value! Using initial value",a),t}};return b[e]=n(),[b[e],function(t){try{var a=JSON.stringify(t);window.localStorage.setItem(e,a),b[e]=n()}catch(r){console.error("Failed to store value!",r)}}]}("pairwise-ranking-app:profiles:v0.1.0",_),o=Object(u.a)(c,2),l=o[0],s=o[1],d=F(l),j=F(a),p=d<j;r.a.useEffect((function(){var e=I(a),t=I(l);!e&&t&&i({type:h,data:{profileState:l}})}),[i,a,l]),r.a.useEffect((function(){var e=I(a);(!d||e&&p)&&s(a)}),[a,d,p,s]);var m={state:a,dispatch:i};return Object(R.jsx)(A.Provider,{value:m,children:e.children})}var B,D,H,U,W,J,q,z,G=n(13),K=n(14),V=n(230),Y=n(285),Z=n(28),Q=n(281),X=n(284),$=n(228),ee=Object($.a)({palette:{primary:{main:"#689f38"},secondary:Z.a.orange}}),te={mediumAndSmaller:"@media (max-width: ".concat(960,"px)")},ne=Object(K.a)(Q.a)(B||(B=Object(G.a)(["\n  &.MuiButton-root {\n    width: 10rem;\n    margin: .5rem;\n  }\n"]))),ae=Object(K.a)(ne).attrs({variant:"contained",color:"primary"})(D||(D=Object(G.a)([""]))),re=Object(K.a)(ne).attrs({variant:"contained"})(H||(H=Object(G.a)([""]))),ie=Object(K.a)(ne).attrs({variant:"outlined",color:"secondary"})(U||(U=Object(G.a)([""]))),ce=Object(K.a)(X.a).attrs({color:"primary"})(W||(W=Object(G.a)(["\n  &.MuiFab-root {\n    margin: .5rem;\n  }\n"]))),oe="1rem",le=K.a.div(J||(J=Object(G.a)(["\n  display: flex;\n  align-content: space-between;\n  flex-direction: column;\n  align-items: center;\n\n  margin: 2rem auto;\n\n  width: 80%;\n  max-width: 100%;\n\n  "," {\n    width: 100%;\n  }\n"])),te.mediumAndSmaller),se=Object(Y.a)((function(e){return{root:{width:"100%",maxWidth:400,backgroundColor:e.palette.background.paper,position:"relative",overflow:"auto",maxHeight:"60vh",margin:oe,color:e.palette.primary.dark,borderRadius:"1rem"}}})),de=Object(K.a)(V.a).attrs({elevation:10})(q||(q=Object(G.a)(["\n  display: flex;\n  align-items: center;\n  min-height: 20vh;\n\n  margin: ",";\n  padding: 2rem;\n  border-radius: 1rem;\n"])),oe),ue=K.a.div(z||(z=Object(G.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between\n"]))),je=n(258),be=n(286),pe=n(259),me=n(223),he=n.n(me);function Oe(e){var t=e.id,n=e.name,a=e.dateTime,r=e.listLength,i=e.progress,c=e.totalComparisons,o=e.onClick;return Object(R.jsx)(je.a,{button:!0,onClick:o,children:Object(R.jsx)(be.a,{primary:Object(R.jsxs)(ue,{children:[Object(R.jsx)("span",{children:n}),Object(R.jsx)("span",{children:"    ".concat(Math.round(i/c*100),"%")})]}),secondary:Object(R.jsxs)(ue,{children:[Object(R.jsx)("span",{children:"".concat(r," rows ")+"(".concat(i,"/").concat(c,")")}),Object(R.jsx)("span",{children:new Date(a).toLocaleString()})]})})},t)}var fe,ge,xe,ve,we=function(e){var t=e.history,n=r.a.useContext(A),a=n.state,i=n.dispatch,c=function(e){return Object.entries(e.profiles).map((function(e){var t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(d.a)(Object(d.a)({},a),{},{id:n})}))}(a),o=se();return Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)(le,{children:[c.length?Object(R.jsx)(pe.a,{className:o.root,children:c.map((function(e){var n=e.name,a=e.id,r=e.dateTime,c=e.list,o=e.pairs,l=e.totalComparisons,s=Object.values(c).length,d=l-o.length;return Object(R.jsx)(Oe,{id:a,name:n,dateTime:r,progress:d,listLength:s,totalComparisons:l,onClick:function(){i(function(e){return{type:m,data:{id:e}}}(a)),t.push(Xt)}},a)}))}):Object(R.jsx)(de,{children:"Create a profile to get started"}),Object(R.jsx)(ce,{"aria-label":"add",onClick:function(){return t.push(Qt)},children:Object(R.jsx)(he.a,{})})]})})},ke=n(289),Ce=n(290),ye=n(291),Se=n(69),Re=n.n(Se),Ie=n(115),Pe=function(e){return"".concat(e.substring(0,10),"_")+"".concat((new Date).getTime(),"_")+"".concat(Math.random().toString(36).substring(2,4))},Ee=function(e,t){var n=Object(u.a)(e,2),a=n[0],r=n[1];return t.map((function(e){var t=Object(u.a)(e,2),n=t[0],i=t[1];return{id:"".concat(a).concat(n),rid:"".concat(n).concat(a),left:r,right:i,skipped:0}}))},Le=function(e){var t=Object.entries(e);return Ne(t)},Ne=function e(t){if(t.length<2)return[];var n=t[0],a=t.slice(1);return Ee(n,a).concat(e(a))},Te=function(e,t){var n=Object.entries(e),a=Object.entries(t);return n.reduce((function(e,t){return a=a.filter((function(e){return t[0]!==e[0]})),e.concat(Ee(t,a))}),[])},Fe=function(e){return e.reduce((function(e,t){var n="_"+t.name;return e[n]=Object(d.a)(Object(d.a)({},t),{},{id:n,score:0}),e}),{})},_e=function(){var e=Object(Ie.a)(Re.a.mark((function e(t,n,a){var r,i,c,o,l,s,d;return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.state,i=t.dispatch,c=a.split("\n").map((function(e){var t=e.split("    "),n=Object(u.a)(t,2);return{name:n[0],image:n[1]}})).filter((function(e){var t=e.name,n=e.image;return t||n})),o=Pe(n),l=100;case 4:if(!r.profiles[o]){e.next=13;break}if(!l--){e.next=9;break}o=Pe(n),e.next=11;break;case 9:return console.error("Failed uniqueness 100 times! Play the lottery?"),e.abrupt("break",13);case 11:e.next=4;break;case 13:s=Fe(c),d=Le(s),console.log(s,d),i(x(o,n,s,d));case 17:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(Ie.a)(Re.a.mark((function e(t,n){var a,r,i,c,o;return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.state,r=t.dispatch,i=I(a),c=n.reduce((function(e,t){var n=Object(d.a)({},i.list[t]);return n.score=0,e[t]=n,e}),{}),o=Te(c,i.list),console.log(c,o),r(v(c,o));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Me=n(287),Be=K.a.div(fe||(fe=Object(G.a)(["\n  margin: auto;\n"]))),De=Object(K.a)(V.a).attrs({elevation:10})(ge||(ge=Object(G.a)(["\n  padding: 1rem;\n  border-radius: 1rem;\n"]))),He=Object(K.a)(Me.a)(xe||(xe=Object(G.a)(["\n  &.MuiFormControl-root {\n    width: 95%;\n    margin: 1rem;\n  }\n"]))),Ue=Object(K.a)(Me.a)(ve||(ve=Object(G.a)(["\n  &.MuiFormControl-root {\n    width: 95%;\n    margin: 1rem;\n  }\n"])));var We=function(e){var t=e.history,n=r.a.useContext(A),a=r.a.useState(""),i=Object(u.a)(a,2),c=i[0],o=i[1],l=r.a.useState(""),s=Object(u.a)(l,2),d=s[0],j=s[1],b="List of comparable items",p="List Name";return Object(R.jsxs)(Be,{children:[Object(R.jsxs)(De,{children:[Object(R.jsx)(He,{"aria-label":p,label:p,placeholder:"What's the name of this Profile?",helperText:"",variant:"outlined",onChange:function(e){o(e.target.value)},value:c,InputLabelProps:{shrink:!!c}}),Object(R.jsx)(Ue,{"aria-label":b,label:b,multiline:!0,rows:10,rowsMax:20,variant:"outlined",placeholder:'"Item 1"    [Optional: <4-spaces> Image-URL]\n"Item 2"    [Optional: <4-spaces> Image-URL]\n"Item 3"    [Optional: <4-spaces> Image-URL]\n\n\nRecommended for lists under 500 (124,750 comparisons)\n...',onChange:function(e){j(e.target.value)},value:d,InputLabelProps:{shrink:!!d}}),Object(R.jsx)(ke.a,{title:"Use Sample Content",style:{visibility:d?"hidden":"visible"},children:Object(R.jsxs)(Ce.a,{size:"small","aria-label":"Use Sample Content",onClick:function(){o("Apples & Oranges"),j("Honey Crisp    https://upload.wikimedia.org/wikipedia/commons/thumb/f/f4/Honeycrisp.jpg/600px-Honeycrisp.jpg\nTangerine     https://upload.wikimedia.org/wikipedia/commons/2/2a/TangerineFruit.jpg\nMandarin Orange    https://upload.wikimedia.org/wikipedia/commons/thumb/4/49/Mandarin_Oranges_%28Citrus_Reticulata%29.jpg/800px-Mandarin_Oranges_%28Citrus_Reticulata%29.jpg\nBlood Orange     https://upload.wikimedia.org/wikipedia/commons/thumb/5/5d/BloodOrange.jpg/800px-BloodOrange.jpg\nAmbrosia     https://upload.wikimedia.org/wikipedia/commons/thumb/f/f1/Ambrosia_apples_2017_A3.jpg/600px-Ambrosia_apples_2017_A3.jpg\nGolden Delicious    https://upload.wikimedia.org/wikipedia/commons/thumb/3/35/Golden_delicious_apple.jpg/800px-Golden_delicious_apple.jpg\n\n")},disabled:!!d,children:[Object(R.jsx)(ye.a,{}),"Sample"]})})]}),Object(R.jsx)(ie,{onClick:function(){return an(t)},children:"Back"}),Object(R.jsx)(ae,{onClick:function(){_e(n,c,d).then((function(){return t.push(Xt)}))},disabled:!d.trim()||!c.trim(),children:"Save"})]})},Je=n(5),qe=n(292),ze=n(92),Ge=n(309),Ke=Object(Je.a)((function(e){return{root:{height:15,borderRadius:10},colorPrimary:{backgroundColor:e.palette.grey["light"===e.palette.type?200:700]},bar:{borderRadius:10}}}))(qe.a),Ve=Object(Y.a)({root:{width:"100%"}});var Ye,Ze,Qe=function(e){var t=Ve(),n=e.value,a=e.total,r=n/a*100;return Object(R.jsxs)(Ge.a,{display:"flex",alignItems:"center",className:t.root,children:[Object(R.jsx)(Ge.a,{width:"100%",mr:1,children:Object(R.jsx)(Ke,Object(d.a)(Object(d.a)({variant:"determinate"},e),{},{value:r,height:40}))}),Object(R.jsx)(Ge.a,{children:Object(R.jsxs)(ze.a,{variant:"body2",children:["".concat(n,"/").concat(a),"\xa0","(".concat(Math.round(r),"%)")]})})]})},Xe=n(293),$e=n(294),et=n(295),tt=Object(K.a)(Xe.a)(Ye||(Ye=Object(G.a)(["\n  display: flex;\n  min-height: ","px;\n  min-width: ","px;\n  border-radius: .5rem;\n\n  h2 {\n    padding: 0 1rem;\n    overflow: ellipsis;\n  }\n\n  "," {\n    min-height: ","px;\n    min-width: ","px;\n  }\n"])),330,330,te.mediumAndSmaller,215,215),nt=Object(K.a)($e.a)(Ze||(Ze=Object(G.a)(["\n  height: ","px;\n  "," {\n    height: ","px;\n  }\n"])),250,te.mediumAndSmaller,175);var at,rt,it,ct,ot=function(e){var t=e.img,n=e.title,a=e.onClick;return Object(R.jsx)(tt,{raised:!0,children:Object(R.jsxs)(et.a,{onClick:a,children:[t&&Object(R.jsx)(nt,{component:"img",alt:n,image:t,title:n}),Object(R.jsx)(ze.a,{gutterBottom:!0,variant:"h5",component:"h2",children:n})]})})},lt=K.a.div(at||(at=Object(G.a)(["\n  display: flex;\n  align-content: space-between;\n  flex-direction: column;\n  align-items: center;\n  margin: 1rem 0;\n"]))),st=K.a.div(rt||(rt=Object(G.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  margin-top: 2rem;\n\n  > * {\n    max-width: 45%;\n    flex-grow: 1;\n  }\n\n  "," {\n    flex-direction: column;\n    > * {\n      max-width: unset;\n      width: 100%;\n    }\n  }\n"])),te.mediumAndSmaller),dt=K.a.div(it||(it=Object(G.a)(["\n  margin: 1rem;\n  flex-grow: unset;\n"]))),ut=K.a.div(ct||(ct=Object(G.a)(["\n  margin-top: 1rem;\n  font-size: 1rem;\n  color: rgba(255, 255, 255, 0.7);\n"])));var jt=function(e){var t,n=e.history,a=e.pairIndex,i=e.leftBallot,c=e.rightBallot,o=e.skippedCount,l=e.progress,s=e.totalComparisons,d=r.a.useContext(A).dispatch,j=r.a.useState(0),b=Object(u.a)(j,2),p=b[0],m=b[1],h=function(e,t){d(function(e,t){return{type:O,data:{pairIndex:e,winnerListId:t}}}(e,t)),m(0),console.log("Voted for: ".concat(t))};return i&&c?Object(R.jsxs)(lt,{children:[Object(R.jsx)(Qe,{value:l,total:s}),Object(R.jsxs)(st,{children:[Object(R.jsx)(ot,{img:i.image,title:i.name,onClick:function(){return h(a,i.id)}}),Object(R.jsx)(dt,{onClick:function(){m(p+1),p&&p%20===0&&alert('You chose "OR", very funny!')},children:"OR"}),Object(R.jsx)(ot,{img:c.image,title:c.name,onClick:function(){return h(a,c.id)}})]}),Object(R.jsxs)(ut,{children:["Skipped: ",(t=o,1===t?"1 time":"".concat(t," times"))]}),Object(R.jsx)(re,{onClick:function(){d(function(e){return{type:f,data:{pairIndex:e}}}(a)),console.log("Skipped: ".concat(c.id," vs. ").concat(i.id))},children:"Skip"}),Object(R.jsx)(ie,{onClick:function(){return an(n)},children:"Back"})]}):null};var bt,pt,mt,ht=function(e){var t=e.history,n=r.a.useContext(A).state,a=r.a.useState(null),i=Object(u.a)(a,2),c=i[0],o=i[1],l=r.a.useState(null),s=Object(u.a)(l,2),j=s[0],b=s[1],p=r.a.useState(!1),m=Object(u.a)(p,2),h=m[0],O=m[1],f=P(n),g=T(n),x=N(n);return r.a.useEffect((function(){g>=x&&an(t)}),[t,g,x]),r.a.useEffect((function(){var e=function(e){var t=Math.floor(Math.random()*e.length);return{nextIndex:t,nextPair:e.length?e[t]:[]}}(f),t=e.nextIndex,n=e.nextPair;o(t),b(n),O(Math.floor(2*Math.random())%2===0)}),[f]),I(n)?j?Object(R.jsx)(jt,Object(d.a)(Object(d.a)({},e),{},{pairIndex:c,leftBallot:h?j.right:j.left,rightBallot:h?j.left:j.right,skippedCount:j.skipped,progress:g,totalComparisons:x})):null:(console.warn("Whoops! No profile selected!"),t.replace(Zt),null)},Ot=K.a.div(bt||(bt=Object(G.a)(["\n  display: flex;\n  align-content: space-between;\n  flex-direction: column;\n  align-items: center;\n  margin: 1rem 0;\n  width: 80%;\n  max-width: 100%;\n\n  "," {\n    width: 100%;\n  }\n"])),te.mediumAndSmaller),ft=K.a.div(pt||(pt=Object(G.a)(["\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n  margin: 1rem 0;\n"]))),gt=n(304),xt=n(305),vt=n(306),wt=n(311),kt=n(296),Ct=n(297),yt=n(298),St=n(310),Rt=n(312),It=function(e){var t=e.headCells,n=e.classes,a=e.onSelectAllClick,r=e.order,i=e.orderBy,c=e.numSelected,o=e.rowCount,l=e.onRequestSort;return Object(R.jsx)(kt.a,{children:Object(R.jsxs)(Ct.a,{children:[Object(R.jsx)(yt.a,{padding:"checkbox",children:Object(R.jsx)(St.a,{indeterminate:c>0&&c<o,checked:o>0&&c===o,onChange:a,inputProps:{"aria-label":"select all items"}})}),t.map((function(e){return Object(R.jsx)(yt.a,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:i===e.id&&r,children:e.sortable?Object(R.jsxs)(Rt.a,{active:i===e.id,direction:i===e.id?r:"asc",onClick:(t=e.id,function(e){l(e,t)}),children:[e.label,i===e.id?Object(R.jsx)("span",{className:n.visuallyHidden,children:"desc"===r?"sorted descending":"sorted ascending"}):null]}):e.label},e.id);var t}))]})})},Pt=n(79),Et=n(4),Lt=n(299),Nt=n(300),Tt=n(301),Ft=n(302),_t=n(303),At=n(11),Mt=Object(Y.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:{borderRadius:"1rem",color:e.palette.secondary.main,backgroundColor:Object(At.d)(e.palette.secondary.light,.85),paddingLeft:e.spacing(3),paddingRight:e.spacing(1)},title:{flex:"1 1 100%",flexDirection:"column"},input:{margin:"0 1rem"}}})),Bt=function(e){var t=Mt(),n=e.title,a=e.numSelected,i=e.rankRange,c=e.onRankRangeChange,o=e.onExportRows,l=e.onClearRows,s="Edit Ranges",d="Done",j=a>0,b=r.a.useState(!1),p=Object(u.a)(b,2),m=p[0],h=p[1],O=function(e){var t=e.start,n=e.end;return function(e){var a=e.target.value;isNaN(a)||""===a||c({start:Number(!0===t?a:i.start),end:Number(!0===n?a:i.end)})}};return Object(R.jsx)(Lt.a,{className:Object(Et.a)(t.root,Object(Pt.a)({},t.highlight,j)),children:j?Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)(ze.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[a," selected"]}),Object(R.jsx)(ke.a,{title:"Export rows",children:Object(R.jsx)(Ce.a,{"aria-label":"Export rows",onClick:o,children:Object(R.jsx)(Nt.a,{})})}),Object(R.jsx)(ke.a,{title:"Clear rows",children:Object(R.jsx)(Ce.a,{"aria-label":"Clear rows",onClick:l,children:Object(R.jsx)(Tt.a,{})})})]}):m?Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)("div",{className:t.title,children:[Object(R.jsx)(Me.a,{id:"start-range",className:t.input,label:"Rank Start",type:"number",defaultValue:i.start,InputLabelProps:{shrink:!0},onChange:O({start:!0})}),Object(R.jsx)(Me.a,{id:"end-range",className:t.input,label:"Rank End",type:"number",defaultValue:i.end,InputLabelProps:{shrink:!0},onChange:O({end:!0})})]}),Object(R.jsx)(ke.a,{title:d,children:Object(R.jsx)(Ce.a,{"aria-label":d,onClick:function(){return h(!1)},children:Object(R.jsx)(Ft.a,{})})})]}):Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(ze.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div",children:n}),Object(R.jsx)(ke.a,{title:s,children:Object(R.jsx)(Ce.a,{"aria-label":s,onClick:function(){return h(!0)},children:Object(R.jsx)(_t.a,{})})})]})})},Dt=Object(Y.a)((function(e){return{root:{width:"100%"},container:{minHeight:200,maxHeight:440},paper:{width:"100%",marginBottom:e.spacing(2),borderRadius:"1rem"},table:{minWidth:200},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}})),Ht=K.a.img(mt||(mt=Object(G.a)(["\n  width: 100%;\n"]))),Ut=function(e){var t=e.headCell,n=e.row,a=e.labelId,r=e.rank,i=Object(d.a)(Object(d.a)({},n),{},{rank:r}),c=t.id,o=t.numeric,l="name"===c,s="image"===c,u=l?null:s?100:30;return Object(R.jsx)(yt.a,{align:o?"right":"left",id:l?a:null,component:l?"th":null,scope:l?"row":null,width:u,children:s?i.image&&Object(R.jsx)(Ht,{src:i.image,alt:i.name}):i[c]})},Wt=function(e){var t=e.headCells,n=e.row,a=e.labelId,r=e.isItemSelected,i=e.handleClick,c=e.rank;return Object(R.jsxs)(Ct.a,{hover:!0,onClick:function(e){return i(e,n.id)},role:"checkbox","aria-checked":r,tabIndex:-1,selected:r,children:[Object(R.jsx)(yt.a,{padding:"checkbox",children:Object(R.jsx)(St.a,{checked:r,inputProps:{"aria-labelledby":a}})}),t.map((function(e){return Object(R.jsx)(Ut,{headCell:e,row:n,labelId:a,rank:c},"".concat(e.id,"-").concat(n.id))}))]},n.id)};function Jt(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function qt(e,t){return"desc"===e?function(e,n){return Jt(e,n,t)}:function(e,n){return-Jt(e,n,t)}}function zt(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}var Gt=[{id:"score",numeric:!0,disablePadding:!0,label:"Score",sortable:!0},{id:"image",numeric:!1,disablePadding:!1,label:"Image",sortable:!1},{id:"name",numeric:!1,disablePadding:!0,label:"Name",sortable:!0},{id:"rank",numeric:!0,disablePadding:!1,label:"Rank",sortable:!1}],Kt=[10,25,100,1e3],Vt=function(e){var t=e.title,n=e.rows,a=e.defaultOrderBy,i=e.defaultOrder,c=e.defaultRowCount,o=e.maxScore,l=e.onClearRows,s=Dt(),d=r.a.useState(i),j=Object(u.a)(d,2),b=j[0],p=j[1],m=r.a.useState(a),h=Object(u.a)(m,2),O=h[0],f=h[1],g=r.a.useState([]),x=Object(u.a)(g,2),v=x[0],w=x[1],k=r.a.useState(0),C=Object(u.a)(k,2),y=C[0],S=C[1],I=r.a.useState(c),P=Object(u.a)(I,2),E=P[0],L=P[1],N=r.a.useState(1),T=Object(u.a)(N,2),F=T[0],_=T[1],A=r.a.useState(10),M=Object(u.a)(A,2),B=M[0],D=M[1],H=function(e,t){var n=v.indexOf(t),a=[];-1===n?a=a.concat(v,t):0===n?a=a.concat(v.slice(1)):n===v.length-1?a=a.concat(v.slice(0,-1)):n>0&&(a=a.concat(v.slice(0,n),v.slice(n+1))),w(a)},U=function(e){return-1!==v.indexOf(e)},W=function(e){var t=(B-F)*(e/o||0)+F;return(Math.round(100*(t+Number.EPSILON))/100).toFixed(2)};return Object(R.jsx)("div",{className:s.root,children:Object(R.jsxs)(V.a,{className:s.paper,children:[Object(R.jsx)(Bt,{title:t,numSelected:v.length,rankRange:{start:F,end:B},onRankRangeChange:function(e){var t=e.start,n=e.end;_(t),D(n)},onExportRows:function(){!function(e,t,n){var a=0,r="data:text/csv;charset=utf-8,"+e.map((function(e,n){if(a||(a=e.length),a!==e.length)throw new Error("Mismatched length; expected ".concat(a," received ").concat(e.length," ")+"at row ".concat(n));return e.join(t)})).join("\r\n"),i=document.createElement("a");i.href=encodeURI(r),i.target="_blank",i.download="".concat(n,".csv"),i.click()}(function(){var e=Gt.map((function(e){return e.label})),t=zt(n,qt(b,O)).filter((function(e){return U(e.id)})).map((function(e){return Gt.map((function(t){return"rank"===t.id?W(e.score):e[t.id]}))}));return t.unshift(e),t}(),"\t",t)},onClearRows:function(){l(v)}}),Object(R.jsx)(gt.a,{className:s.container,children:Object(R.jsxs)(xt.a,{stickyHeader:!0,className:s.table,"aria-labelledby":"tableTitle",size:"medium","aria-label":"enhanced table",children:[Object(R.jsx)(It,{classes:s,numSelected:v.length,order:b,orderBy:O,onSelectAllClick:function(e){if(e.target.checked){var t=n.map((function(e){return e.id}));w(t)}else w([])},onRequestSort:function(e,t){p(O===t&&"asc"===b?"desc":"asc"),f(t)},rowCount:n.length,headCells:Gt}),Object(R.jsx)(vt.a,{children:zt(n,qt(b,O)).slice(y*E,y*E+E).map((function(e,t){var n=U(e.id),a="enhanced-table-checkbox-".concat(t);return Object(R.jsx)(Wt,{headCells:Gt,row:e,labelId:a,isItemSelected:n,handleClick:H,rank:W(e.score)},a)}))})]})}),Object(R.jsx)(wt.a,{rowsPerPageOptions:Kt,component:"div",count:n.length,rowsPerPage:E,page:y,onChangePage:function(e,t){S(t)},onChangeRowsPerPage:function(e){L(parseInt(e.target.value,10)),S(0)}})]})})};var Yt=function(e){var t=e.history,n=r.a.useContext(A),a=n.state,i=n.dispatch,c=I(a);if(console.log(a),!c)return console.warn("Whoops! No profile selected!"),t.replace(Zt),null;var o=T(a),l=N(a),s=L(a),d=E(a),u=o?o>=l?"(Results)":"(Partial)":": Ready to start!",j="".concat(c.name," ").concat(u);return Object(R.jsxs)(Ot,{children:[Object(R.jsxs)(ft,{children:[Object(R.jsx)(Qe,{value:o,total:l}),o<l&&Object(R.jsx)(ae,{onClick:function(){return t.push($t)},children:o?"Continue":"Start"})]}),Object(R.jsx)(Vt,{rows:d,maxScore:s,defaultOrderBy:"score",defaultOrder:"desc",defaultRowCount:25,title:j,onClearRows:function(e){return Ae({state:a,dispatch:i},e)}}),Object(R.jsx)(ie,{onClick:function(){return t.replace(Zt)},children:"Switch Profiles"})]})},Zt="/",Qt="/edit-profile",Xt="/list",$t="/vote-pair",en=Zt,tn=function(e,t){return{path:e,component:t}},nn=[tn($t,ht),tn(Xt,Yt),tn(Qt,We),tn(Zt,we)],an=function(e){e.length>1?e.goBack():e.replace(en)};var rn=function(){return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("div",{className:"app",children:Object(R.jsx)("div",{className:"app-body",children:Object(R.jsx)(s.a,{theme:ee,children:Object(R.jsx)(o.a,{basename:"/pairwise-ranking-app",children:Object(R.jsx)(l.c,{children:nn.map((function(e){var t=e.path,n=e.component;return Object(R.jsx)(l.a,{path:t,component:n},t)}))})})})})}),Object(R.jsxs)("div",{className:"build-info",children:["Release: ","8e53909-2021-07-11T21:32:41.907Z"]})]})},cn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,314)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))},on=r.a.createContext(),ln="PROFILE/ADD",sn={currentProfileKey:null,profiles:[]};function dn(e,t){switch(t.type){case ln:return Object(d.a)(Object(d.a)({},e),{},{profiles:[].concat(Object(w.a)(e.profiles),[t.data])});case"PROFILE/SET_CURRENT":return Object(d.a)(Object(d.a)({},e),{},{currentProfileKey:t.data});default:return e}}function un(e){var t=r.a.useReducer(dn,sn),n=Object(u.a)(t,2),a={state:n[0],dispatch:n[1]};return Object(R.jsx)(on.Provider,{value:a,children:e.children})}c.a.render(Object(R.jsx)(r.a.StrictMode,{children:Object(R.jsx)(un,{children:Object(R.jsx)(M,{children:Object(R.jsx)(rn,{})})})}),document.getElementById("root")),cn()}},[[257,1,2]]]);
//# sourceMappingURL=main.3e50afb8.chunk.js.map